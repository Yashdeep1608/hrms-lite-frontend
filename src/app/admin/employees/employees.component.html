<div class="p-6 space-y-6">

  <div class="flex justify-between items-center">
    <h2 class="text-2xl font-bold">Employee Management</h2>

    <button
      (click)="openModal()"
      class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700"
    >
      + Add Employee
    </button>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center text-gray-500">
    Loading employees...
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && employees.length === 0" class="text-center text-gray-500">
    No employees found.
  </div>

  <!-- Table -->
  <div *ngIf="!loading && employees.length > 0" class="overflow-x-auto">
    <table class="w-full bg-white shadow rounded-xl overflow-hidden">
      <thead class="bg-gray-100 text-left">
        <tr>
          <th class="p-4">Employee ID</th>
          <th class="p-4">Name</th>
          <th class="p-4">Email</th>
          <th class="p-4">Department</th>
          <th class="p-4 text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of employees" class="border-t">
          <td class="p-4">{{ emp.employee_code }}</td>
          <td class="p-4">{{ emp.full_name }}</td>
          <td class="p-4">{{ emp.email }}</td>
          <td class="p-4">{{ emp.department }}</td>
          <td class="p-4 text-center space-x-2">
            <button
              routerLink="/attendance/{{ emp.id }}"
              class="px-3 py-1 bg-green-500 text-white rounded"
            >
              Attendance
            </button>

            <button
              (click)="deleteEmployee(emp.id)"
              class="px-3 py-1 bg-red-500 text-white rounded"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
<!-- Modal -->
<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">

  <div class="bg-white p-6 rounded-xl w-full max-w-md space-y-4">

    <h3 class="text-xl font-bold">Add Employee</h3>

    <form [formGroup]="employeeForm" (ngSubmit)="createEmployee()" class="space-y-4">

      <input formControlName="employee_code" placeholder="Employee ID"
        class="w-full p-2 border rounded" />

      <input formControlName="full_name" placeholder="Full Name"
        class="w-full p-2 border rounded" />

      <input formControlName="email" placeholder="Email"
        class="w-full p-2 border rounded" />

      <input formControlName="department" placeholder="Department"
        class="w-full p-2 border rounded" />

      <div class="flex justify-end space-x-3">
        <button type="button" (click)="closeModal()" class="px-4 py-2 bg-gray-400 text-white rounded">
          Cancel
        </button>

        <button type="submit" [disabled]="employeeForm.invalid"
          class="px-4 py-2 bg-blue-600 text-white rounded">
          Save
        </button>
      </div>

    </form>

  </div>
</div>
